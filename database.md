# ---------------------------------------------------------------------------- `DATABASE` -------------------------------------------------------------------------------
 = *1*.
 = CREATE TABLE `categories` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `name` varchar(150) NOT NULL,
 =   `slug` varchar(150) NOT NULL,
 =   `parentId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *2*.
 = CREATE TABLE `certificates` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `courseId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `certificateUrl` varchar(500) NOT NULL,
 =   `issuedAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *3*.
 = CREATE TABLE `coupons` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `code` varchar(50) NOT NULL,
 =   `type` enum('percent','amount') NOT NULL,
 =   `value` decimal(10,2) NOT NULL,
 =   `usageCount` int(11) NOT NULL DEFAULT 0,
 =   `maxUsage` int(11) NOT NULL DEFAULT 0,
 =   `validFrom` datetime DEFAULT NULL,
 =   `validTo` datetime DEFAULT NULL,
 =   `minOrderValue` decimal(10,2) NOT NULL DEFAULT 0.00,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *4*.
 = CREATE TABLE `courses` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `title` varchar(255) NOT NULL,
 =   `slug` varchar(255) NOT NULL,
 =   `description` text DEFAULT NULL,
 =   `shortDescription` varchar(512) DEFAULT NULL,
 =   `price` decimal(10,2) NOT NULL DEFAULT 0.00,
 =   `status` enum('draft','published','archived') NOT NULL DEFAULT 'draft',
 =   `thumbnailUrl` varchar(500) NOT NULL,
 =   `categoryId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
 =   `instructorId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *5*.
 = CREATE TABLE `enrollments` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `courseId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `orderItemId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
 =   `progress` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`progress`)),
 =   `startedAt` datetime DEFAULT NULL,
 =   `completedAt` datetime DEFAULT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 = 
 = *6*.
 = CREATE TABLE `lessons` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `courseId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `title` varchar(255) NOT NULL,
 =   `content` text DEFAULT NULL,
 =   `videoUrl` varchar(500) DEFAULT NULL,
 =   `resourceUrls` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`resourceUrls`)),
 =   `duration` int(11) DEFAULT NULL,
 =   `position` int(11) NOT NULL DEFAULT 0,
 =   `isFreePreview` tinyint(1) NOT NULL DEFAULT 0,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *7*.
 = CREATE TABLE `orders` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `couponId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
 =   `totalAmount` decimal(10,2) NOT NULL DEFAULT 0.00,
 =   `status` enum('pending','paid','cancelled','refunded') NOT NULL DEFAULT 'pending',
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *8*.
 = CREATE TABLE `order_items` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `orderId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `courseId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `price` decimal(10,2) NOT NULL,
 =   `quantity` int(11) NOT NULL DEFAULT 1,
 =   `discount` decimal(10,2) NOT NULL DEFAULT 0.00,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *9*.
 = CREATE TABLE `payments` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `orderId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `provider` varchar(50) DEFAULT NULL,
 =   `providerPaymentId` varchar(100) DEFAULT NULL,
 =   `amount` decimal(10,2) NOT NULL DEFAULT 0.00,
 =   `status` enum('pending','success','failed','refunded') NOT NULL DEFAULT 'pending',
 =   `paidAt` datetime DEFAULT NULL,
 =   `meta` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`meta`)),
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
)
 = 
 = *10*.
 = CREATE TABLE `profiles` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `fullName` varchar(100) DEFAULT NULL,
 =   `phone` varchar(20) DEFAULT NULL,
 =   `address` varchar(255) DEFAULT NULL,
 =   `avatarUrl` varchar(255) DEFAULT NULL,
 =   `dateOfBirth` date DEFAULT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 = 
 = *11*.
 = CREATE TABLE `reviews` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `courseId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `rating` int(11) NOT NULL,
 =   `comment` text DEFAULT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *12*.
 = CREATE TABLE `roles` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `name` varchar(50) NOT NULL,
 =   `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =   `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *13*.
 = CREATE TABLE `users` (
 =   `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `name` varchar(100) NOT NULL,
 =   `email` varchar(255) NOT NULL,
 =   `passwordHash` varchar(255) NOT NULL,
 =   `roleId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =   `avatarUrl` varchar(500) DEFAULT NULL,
 =  `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =  `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
 = *14*.
 = CREATE TABLE `refresh_tokens` (
 =  `id` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =  `userId` char(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
 =  `token` varchar(255) NOT NULL,
 =  `expiresAt` datetime DEFAULT NULL,
 =  `createdAt` datetime NOT NULL DEFAULT current_timestamp(),
 =  `updatedAt` datetime NOT NULL DEFAULT current_timestamp()
 = )
 =
# ---------------------------------------------------------------------------- `DATABASE` -------------------------------------------------------------------------------


  id: 1,
        title: "React Cơ Bản",
        description: "Học cách xây dựng ứng dụng React từ đầu",
        instructor: "Nguyễn Văn A",
        category: "Front-end",
        price: 499000,
        students: 120,
        createdAt: "2025-01-10",
        status: "published",